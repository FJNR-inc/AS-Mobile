<ActionBar [title]="getArtworkName()" class="action-bar">
    <!--
    Use the NavigationButton as a side-drawer button in Android
    because ActionItems are shown on the right side of the ActionBar
    -->
    <NavigationButton ios:visibility="collapsed" icon="res://menu" (tap)="onDrawerButtonTap()"></NavigationButton>
    <!--
    Use the ActionItem for IOS with position set to left. Using the
    NavigationButton as a side-drawer button in iOS is not possible,
    because its function is to always navigate back in the application.
    -->
    <ActionItem icon="res://navigation/menu" android:visibility="collapsed" (tap)="onDrawerButtonTap()"
                ios.position="left">
    </ActionItem>
    <Label class="action-bar-title" [text]="getArtworkName()"></Label>
</ActionBar>

<BottomNavigation selectedIndex="0" class="artwork-page">

    <!-- The bottom tab UI is created via TabStrip (the containier) and TabStripItem (for each tab)-->
    <TabStrip class="artwork-page__tabs">
        <TabStripItem>
            <Label text="General"></Label>
            <Image src="font://&#xf2bb;" class="fas t-36"></Image>
        </TabStripItem>
        <TabStripItem>
            <Label text="Quizz"></Label>
            <Image src="font://&#xf022;" class="fas t-36"></Image>
        </TabStripItem>
    </TabStrip>

    <!-- The number of TabContentItem components should corespond to the number of TabStripItem components -->
    <TabContentItem>
        <ScrollView>
            <StackLayout>
                <StackLayout class="artwork-page__details" *ngIf="artwork">
                    <StackLayout orientation="vertical" class="artwork-page__details__box card">
                        <StackLayout orientation="horizontal" class="artwork-page__details__box__header">
                            <Image [src]="artwork.picture" stretch="aspectFill" verticalAlignment="stretch" class="artwork-page__details__box__header__picture"></Image>
                            <StackLayout class="artwork-page__details__box__header__details">
                                <TitleComponent [text]="artwork.name" type="title-section"></TitleComponent>
                                <TitleComponent [text]="artwork.artist.full_name" type="3"></TitleComponent>
                                <TitleComponent [text]="artwork.place.name" type="3"></TitleComponent>
                            </StackLayout>
                        </StackLayout>
                        <TitleComponent type="3" [text]="artwork.description"></TitleComponent>
                    </StackLayout>
                    <Button tap="onTap" class="button" [nsRouterLink]="['/map/' + artwork.id]">
                        <FormattedString>
                            <Span text="&#xf5a0;" class="fas"></Span>
                            <Span text="Voir sur le plan"></Span>
                        </FormattedString>
                    </Button>
                </StackLayout>
            </StackLayout>
        </ScrollView>
    </TabContentItem>
    <TabContentItem>
        <FlexboxLayout class="artwork-page__quizz" flexDirection="column" justifyContent="space-around" alignItems="center" *ngIf="assessments.length >= 1 && !emailVerified">
            <TitleComponent type="1" text="Quizz"></TitleComponent>

            <StackLayout orientation="vertical" class="artwork-page__quizz__text">
                <TitleComponent type="3" text="Il est temps de faire valoir vos connaissances et d'en apprendre plus sur cette oeuvre." textAlignment="center"></TitleComponent>
                <TitleComponent type="3" text="Entrez l'adresse email que vous souhaitez utiliser pour le concours" textAlignment="center"></TitleComponent>
            </StackLayout>

            <TextField hint="Your email"
                       [(ngModel)]="email"
                       keyboardType="email"
                       returnKeyType="done"
                       autocorrect="false">
            </TextField>

            <Button (tap)="onTap()" text="Commencer" class="button"></Button>
        </FlexboxLayout>
        <ns-list-quizz *ngIf="assessments.length >=1 && emailVerified" [assessments]="this.assessments"></ns-list-quizz>
        <FlexboxLayout class="artwork-page__quizz" flexDirection="column" justifyContent="space-around" alignItems="center" *ngIf="assessments.length < 1">
            <TitleComponent type="1" text="Quizz"></TitleComponent>

            <StackLayout orientation="vertical" class="artwork-page__quizz__text">
                <TitleComponent type="3" text="Il n'y a pas de Quizz pour cette oeuvre" textAlignment="center"></TitleComponent>
            </StackLayout>
        </FlexboxLayout>
    </TabContentItem>

</BottomNavigation>

